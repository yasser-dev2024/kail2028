{% load static %}
<header style="
    position: relative;
    width: 100%;
    height: auto;
    background-color: transparent;
    overflow: visible;
    margin: 0;
    padding: 0;
">

    <!-- ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© -->
    <img src="{% static 'tarwesah.png' %}" 
         alt="Ø´Ø¹Ø§Ø± Ø®ÙŠØ± Ø§Ù„Ù†ÙˆØ§ØµÙŠ" 
         style="
            width: 100%;
            height: auto;
            object-fit: contain;
            background-color: transparent;
            display: block;
            margin: 0;
            padding: 0;
         ">

    <!-- âœ… Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ Ù„Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± -->
    <div class="top-buttons desktop-only" style="
        position: absolute;
        top: 15px;
        right: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        z-index: 10;
        flex-wrap: wrap;
    ">
        {% if user.is_authenticated %}
            <!-- Ø²Ø± Ø§Ù„Ø³Ù„Ø© -->
            <a href="{% url 'stables:view_cart' %}" 
               style="
                   position: relative;
                   text-decoration: none;
                   background: #009688;
                   color: white;
                   padding: 8px 18px;
                   border-radius: 8px;
                   font-size: 13px;
                   font-weight: bold;
                   transition: 0.3s;
               "
               onmouseover="this.style.background='#00796b';"
               onmouseout="this.style.background='#009688';">
               ğŸ›ï¸ Ø§Ù„Ø³Ù„Ø©
               {% if cart_count %}
               <span style="
                   position: absolute;
                   top: -8px;
                   right: -8px;
                   background: red;
                   color: white;
                   font-size: 12px;
                   padding: 3px 7px;
                   border-radius: 50%;
               ">{{ cart_count }}</span>
               {% endif %}
            </a>

            <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ -->
            <a href="{% url 'ops:logout' %}" 
               style="
                   text-decoration: none;
                   background: #c0392b;
                   color: white;
                   padding: 8px 18px;
                   border-radius: 8px;
                   font-size: 15px;
                   transition: 0.3s;
                   white-space: nowrap;
               "
               onmouseover="this.style.background='darkred';"
               onmouseout="this.style.background='#c0392b';">
               ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
            </a>
        {% endif %}
    </div>

    <!-- âœ… Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ø³ÙÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙÙŠ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙÙ‚Ø· -->
    {% if user.is_authenticated %}
    <div class="desktop-only" style="
        position: absolute;
        top: 65px;
        left: 20px;
        z-index: 9;
    ">
        <span style="
            color: white;
            font-size: 15px;
            background: rgba(0,0,0,0.5);
            padding: 8px 15px;
            border-radius: 8px;
            display: inline-block;
        ">
            ğŸ‘‹ Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ Ù…Ø¹Ù†Ø§ {{ user.username }}
        </span>
    </div>
    {% endif %}

    <!-- Ø§Ù„Ù†ØµÙˆØµ ÙÙˆÙ‚ Ø§Ù„ØµÙˆØ±Ø© -->
    <div style="
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        text-align: center;
        padding: 20px;
        margin: 0;
        box-sizing: border-box;
        background: none;
    ">
        <h1 style="
            text-align: center;
            font-size: 36px;
            color: #d4af37;
            margin: 0;
            text-shadow: 2px 2px 6px rgba(0,0,0,0.8);
        ">
        </h1>
    </div>

    <style>
        body {
            margin: 0 !important;
            padding: 0 !important;
            overflow-x: hidden !important;
        }

        header {
            margin: 0 !important;
            padding: 0 !important;
            width: 100% !important;
            max-width: 100% !important;
        }

        header img {
            width: 100% !important;
            height: auto !important;
            max-width: 100% !important;
            object-fit: contain !important;
        }

        /* âœ… Ø§Ù„Ø¬ÙˆØ§Ù„ */
        @media (max-width: 768px) {
            .desktop-only {
                display: none !important;
            }

            .mobile-buttons {
                display: flex !important;
                flex-direction: column;
                align-items: center;
                gap: 10px;
                margin: 15px auto;
                width: 100%;
                text-align: center;
            }

            .mobile-buttons a,
            .mobile-buttons span {
                text-decoration: none;
                border-radius: 8px;
                font-size: 15px;
                font-weight: 500;
                transition: 0.3s;
                padding: 10px 18px;
                width: 80%;
                max-width: 250px;
            }

            .mobile-buttons span {
                background: rgba(0,0,0,0.6);
                color: white;
            }

            .mobile-buttons a.login {
                background: rgba(0,0,0,0.7);
                color: white;
            }

            .mobile-buttons a.login:hover {
                background: gold;
                color: black;
            }

            .mobile-buttons a.register {
                background: #d4af37;
                color: black;
            }

            .mobile-buttons a.register:hover {
                background: black;
                color: gold;
            }

            .mobile-buttons a.logout {
                background: #c0392b;
                color: white;
            }

            .mobile-buttons a.logout:hover {
                background: darkred;
            }

            .mobile-buttons a.cart {
                background: #009688;
                color: white;
                position: relative;
            }

            .mobile-buttons a.cart:hover {
                background: #00796b;
            }

.mobile-buttons a.cart span.count {
    position: absolute;
    top: -8px;
    right: -10px;
    background: red;
    color: white;
    font-size: 11px;
    width: 18px;
    height: 18px;
    line-height: 18px;
    text-align: center;
    border-radius: 50%;
    display: inline-block;
}
        }
    </style>
</header>

<!-- âœ… Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„Ù„Ø¬ÙˆØ§Ù„ ÙÙ‚Ø· -->
<div class="mobile-buttons" style="display:none;">
    {% if user.is_authenticated %}
        <span>ğŸ‘‹ Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ Ù…Ø¹Ù†Ø§ {{ user.username }}</span>

        <a href="{% url 'stables:view_cart' %}" class="cart">ğŸ›ï¸ Ø§Ù„Ø³Ù„Ø©
            {% if cart_count %}
                <span class="count">{{ cart_count }}</span>
            {% endif %}
        </a>

        <a href="{% url 'ops:logout' %}" class="logout">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>

    {% else %}
        <a href="{% url 'ops:login' %}" class="login">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
        <a href="{% url 'ops:register' %}" class="register">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</a>
    {% endif %}
</div>
